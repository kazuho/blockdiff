BLOCKDIFF - a differential backup tool for block devices and files

COMPILE

@server# gcc -Wall -g -o blockdiff_dump blockdiff_dump.c -lcrypto
@server# gcc -Wall -g -o blockdiff_merge blockdiff_merge.c

FULL BACKUP

@client# ssh root@server lvmbackup /dev/.../lv_name 1 | gzip > lv_name.1.gz

INCREMENTAL BACKUPS

@client# ssh root@server lvmbackup /dev/.../lv_name 2 1 | gzip > lv_name.2.gz

@client# ssh root@server lvmbackup /dev/.../lv_name 3 2 | gzip > lv_name.3.gz

@client# ssh root@server lvmbackup /dev/.../lv_name 4 3 | gzip > lv_name.4.gz

RESTORE

@server# for i in lv_name.*.gz; do
>   gunzip < $i | blockdiff_merge /dev/..lv_name
> done

